local Library = {}
local AisBoost = loadstring(game:HttpGet("https://raw.githubusercontent.com/artemy133563/auth/main/aisboost.lua"))()
local UI = loadstring(game:HttpGet("https://raw.githubusercontent.com/artemy133563/auth/main/Source.lua"))()

function Library:Init(Settings)
  UI:CreateWindow({
    title = Settings.Title,
    description = Settings.Description,
    serverCode = Settings.ServerCode,
    supportLabel = Settings.SupportLabel,
    onStartup = function()
      local isNeedKey = not (isfile(Settings.FileName) and AisBoost:Verify(Settings.ApplicationId, readfile(Settings.FileName)))  
      if not isNeedKey then
        Settings.Finished = true
      end

      return isNeedKey
    end,
    onCheck = function(entered)
      local isCorrect = AisBoost:Verify(Settings.ApplicationId, entered)

      if isCorrect then
        Settings.Finished = true
        writefile(Settings.FileName, entered)
      end

      return isCorrect
    end,
    onCopy = function() 
      setclipboard(AisBoost:GetLink(Settings.ApplicationId))
    end,
  })

  repeat task.wait(.1) until Settings.Finished
end

return Library
